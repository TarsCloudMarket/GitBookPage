(function(){var e={72390:function(e,t,n){"use strict";n(66992),n(88674),n(19601),n(17727);var r=n(11357),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("router-view")],1)],1)},a=[],o={name:"UserList",data:function(){return{}},methods:{},created:function(){},mounted:function(){}},i=o,c=n(1001),u=(0,c.Z)(i,s,a,!1,null,null,null),l=u.exports,h=n(12809),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user_list",staticStyle:{width:"90%"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:"",stripe:""}},[n("el-table-column",{attrs:{prop:"uid",sortable:"",label:e.$t("user.user")}}),n("el-table-column",{attrs:{prop:"updateTime",sortable:"",label:e.$t("user.loginTime")}}),n("el-table-column",{attrs:{prop:"createTime",sortable:"",label:e.$t("user.createTime")}}),n("el-table-column",{attrs:{fixed:"right",label:e.$t("user.operator"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(n){return e.handleDelete(t.row)}},slot:"reference"},[e._v(e._s(e.$t("user.delete")))]),1!=t.row.activated?n("el-button",{attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(n){return e.handleActivate(t.row)}},slot:"reference"},[e._v(e._s(e.$t("user.activated")))]):e._e()]}}])})],1),n("br"),n("el-pagination",{attrs:{background:"","current-page":e.pagination.page,"page-size":e.pagination.size,layout:"prev, pager, next, jumper, total",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pagination,"page",t)},"update:current-page":function(t){return e.$set(e.pagination,"page",t)}}})],1)},d=[],p=(n(41539),n(54747),n(50735)),j=n.n(p),g={name:"UserList",data:function(){return{filter:!1,pagination:{page:1,size:15,total:0},userList:[]}},methods:{fetchData:function(e){var t=this;this.$cloud.call("cloud-user","getUserList",{ticket:window.localStorage.ticket,offset:(this.pagination.page-1)*this.pagination.size,limit:this.pagination.size}).then((function(n){t.userList=n.users.users,t.pagination.total=n.users.total,t.pagination.page=e,t.userList.forEach((function(e){e.updateTime=j()(e.updateTime).format("YYYY-MM-DD HH:mm:ss"),e.createTime=j()(e.createTime).format("YYYY-MM-DD HH:mm:ss")}))})).catch((function(e){}))},handleCurrentChange:function(e){this.fetchData(e)},handleSizeChange:function(){this.fetchData(this.pagination.page)},handleActivate:function(e){var t=this;this.$confirm(this.$t("user.confirmActivated"),this.$t("user.activated"),{confirmButtonText:this.$t("user.activated"),cancelButtonText:this.$t("user.cancel")}).then((function(){t.$cloud.call("cloud-user","activateUser",{ticket:window.localStorage.ticket,uid:e.uid}).then((function(){t.fetchData(t.pagination.page)})).catch((function(e){}))}))},handleDelete:function(e){var t=this;this.$confirm(this.$t("user.confirmDelete"),this.$t("user.delete"),{confirmButtonText:this.$t("user.delete"),cancelButtonText:this.$t("user.cancel")}).then((function(){t.$cloud.call("cloud-user","deleteUser",{ticket:window.localStorage.ticket,uid:e.uid}).then((function(){t.fetchData(t.pagination.page)})).catch((function(e){}))}))}},created:function(){this.fetchData(this.pagination.page)},mounted:function(){document.title=this.$t("user.userManage")}},v=g,m=(0,c.Z)(v,f,d,!1,null,null,null),b=m.exports,k=h.Z.prototype.push;h.Z.prototype.push=function(e){return k.call(this,e).catch((function(e){return e}))},r["default"].use(h.Z);var y=new h.Z({routes:[{path:"/user",name:"user",component:b},{path:"*",redirect:"/user"}],scrollBehavior:function(e,t,n){return{x:0,y:0}}}),S=n(74549),w=n.n(S),O=(n(92222),n(57147),n(76133)),D=n(92751),C=n(9726),U=(n(74916),n(15306),n(47042),n(39714),n(47941),n(69600),n(23123),n(21703),n(38862),function(e){return"string"===typeof e}),z=Array.isArray,x=function(e){return"object"===(0,C.Z)(e)&&null!==e},$=function(e){return"function"===typeof e},T=Object.assign;function E(e){return String(e).replace(/(?:(?![!'-\*~\xA9\xAE\u2122\u23E9-\u23EF\u23F3\u23F8-\u23FA\u24C2\u25B6\u2600-\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDE51\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF])[\s\S])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))}function H(e){if(!e)return"";var t=[];return Object.keys(e).forEach((function(n){var r=e[n];null!==r&&void 0!==r||(r=""),t.push("".concat(E(n),"=").concat(E(r)))})),t.join("&").replace(/%20/g,"+")}function B(e){var t=function e(t,n,r){return z(r)||x(r)?(Object.keys(r).forEach((function(s){e(t,"".concat(n,"[").concat(s,"]"),r[s])})),t):(t[n]=r,t)};return H(Object.keys(e).reduce((function(n,r){return t(n,r,e[r])}),{}))}var P=function(){function e(t){(0,O.Z)(this,e),this.defaults=t}return(0,D.Z)(e,[{key:"get",value:function(e){return T({},this.defaults,e)}},{key:"set",value:function(e,t){var n=this;if(e){if(U(e)){var r=e.split(".");r.reduce((function(e,n,s){return s===r.length-1&&(e[n]=t),e[n]}),this.defaults)}x(e)&&Object.keys(e).forEach((function(t){n.set(t,e[t])})),z(e)&&e.forEach((function(e){return n.set(e,t)}))}}},{key:"remove",value:function(e){var t=this;if(e){if(U(e)){var n=e.split(".");n.reduce((function(e,t,r){return r===n.length-1&&delete e[t],e[t]}),this.defaults)}z(e)&&e.forEach((function(e){return t.remove(e)}))}}}]),e}(),Z=function(){function e(t){(0,O.Z)(this,e),this.handler=t}return(0,D.Z)(e,[{key:"set",value:function(e){$(e)&&(this.handler=e)}},{key:"exec",value:function(){$(this.handler)&&this.handler.apply(null,arguments)}}]),e}(),_=function(){function e(t){(0,O.Z)(this,e),this.base=t||""}return(0,D.Z)(e,[{key:"set",value:function(e){U(e)&&(this.base=e)}},{key:"get",value:function(e){return this.base+(e||"")}}]),e}(),F=(0,D.Z)((function e(){var t=this;(0,O.Z)(this,e),this.ServerUrl=new _,this.Options=new P({credentials:"same-origin",timeout:5e3}),this.Headers=new P({"X-Requested-With":"XMLHttpRequest"}),this.Body=new P({}),this.StatusHandler=new Z,this.ResultHandler=new Z((function(){return!0})),this.parseUrl=function(e,n){var r=H(t.Body.get(n));return r&&(r=-1===e.indexOf("?")?"?".concat(r):"&".concat(r)),e+r},this.checkStatus=function(e){var n=e.status;if(n>=200&&n<300||304===n)return e;throw t.StatusHandler.exec(n,e),new Error(e.statusText)},this.parseJSON=function(e){return e.json().then(null,(function(n){return t.StatusHandler.exec(500,e),Promise.reject(n)}))},this.successCallback=function(e){return t.ResultHandler.handler(e)?e:Promise.reject(e)},this.errorCallback=function(e){return Promise.reject(e)},this.get=function(e,n){var r=t.Options.get({headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,n)),r).then(t.checkStatus).then(t.parseJSON).catch(t.errorCallback)},this.getJSON=function(e,n){var r=t.Options.get({headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,n)),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.post=function(e,n){var r=t.Options.get({method:"POST",headers:t.Headers.get({"Content-Type":"application/x-www-form-urlencoded"}),body:B(t.Body.get(n))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.postForm=function(e,n){var r=t.Options.get({method:"POST",headers:t.Headers.get(),body:n}),s=t.Body.get({});return Object.keys(s).forEach((function(e){n.append(e,s[e])})),fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.postJSON=function(e,n){var r=t.Options.get({method:"POST",headers:t.Headers.get({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t.Body.get(n))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.put=function(e,n){var r=t.Options.get({method:"PUT",headers:t.Headers.get({"Content-Type":"application/x-www-form-urlencoded"}),body:B(t.Body.get(n))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.remove=function(e,n){var r=t.Options.get({method:"DELETE",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,n)),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.getPlain=function(e,n){var r=t.Options.get({method:"GET",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,n)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.postPlain=function(e,n){var r=t.Options.get({method:"POST",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,n)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.postBinary=function(e,n){var r=t.Options.get({method:"POST",headers:t.Headers.get(),body:n});return fetch(t.ServerUrl.get(t.parseUrl(e)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.download=function(e,n){window.open(t.ServerUrl.get(t.parseUrl(e,n)))}})),L=F,N=new L;N.ServerUrl.set("/pages"),N.ResultHandler.set((function(e){return!(!e||200!==e.ret_code||null==e.data)})),["getJSON","postJSON"].forEach((function(e){var t=N[e];N["_".concat(e)]=t,N[e]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[null].concat(n)).then((function(e){return e.data}))}})),Object.defineProperty(r["default"].prototype,"$ajax",{get:function(){return N}});n(23157);var J=new L;J.ServerUrl.set("https://api.k.tarsyun.com/json"),J.ServerUrl.set("https://api.k.tarsyun.com/json"),J.ResultHandler.set((function(e){return!(!e||0!==e.tars_ret)})),J.call=function(e,t,n){return J.Headers.set("X-Token",window.localStorage.ticket||""),J.postJSON("/".concat(e,"/").concat(t),n)},Object.defineProperty(r["default"].prototype,"$cloud",{get:function(){return J}});var M=function(){function e(t){(0,O.Z)(this,e),this.vue=t}return(0,D.Z)(e,[{key:"onLogin",value:function(e){e&&this.vue.$store.commit({type:"cloudUid",uid:window.localStorage.uid}),e||location.hash.startsWith("#/user")?e&&"#/"==location.hash&&this.vue.$router.push({name:"index"}):this.vue.$router.push({name:"login"})}},{key:"checkLogin",value:function(){var e=this,t=window.localStorage.ticket;t?this.vue.$cloud.call("cloud-user","isLogin",{ticket:t}).then((function(t){t.uid?(window.localStorage.uid=t.uid,window.localStorage.ticket=t.ticket,e.onLogin(!0)):e.onLogin(!1)})).catch((function(t){e.vue.$common.showError(t,"userRet")})):this.onLogin(!1)}}]),e}();Object.defineProperty(r["default"].prototype,"$loginUtil",{get:function(){return this.loginUtil||(this.loginUtil=new M(this)),this.loginUtil}});var A=n(82151),R=n(97345),Y=n(88208),q=n.n(Y),X=n(47295),W=n(10187);r["default"].use(R.Z),r["default"].use(q());var G=new R.Z({});G.setLocaleMessage("cn",X["default"]),G.setLocaleMessage("en",W.Z);var I=[];function K(){return new Promise((function(e,t){(new L).getJSON("/pages/api/get_locale").then((function(t){var n=t.data,r=q().get("locale");if("[object Object]"==Object.prototype.toString.call(n)){for(var s in n)G.mergeLocaleMessage(s,n[s]),I.push({localeCode:s,localeName:n[s]["localeName"],localeMessages:n});r=n[r]?r:"cn",I=n}G.locale=r,e()})).catch((function(e){t(e)}))}))}r["default"].config.productionTip=!1,r["default"].use(A.ZP),K.call(void 0).then((function(){r["default"].use(w(),{i18n:function(e,t){return G.t(e,t)}}),new r["default"]({i18n:G,el:"#app",router:y,components:{User:l},template:"<User/>"})}))},95126:function(e,t,n){var r={"./af":71633,"./af.js":71633,"./ar":11988,"./ar-dz":7779,"./ar-dz.js":7779,"./ar-kw":22134,"./ar-kw.js":22134,"./ar-ly":81949,"./ar-ly.js":81949,"./ar-ma":56875,"./ar-ma.js":56875,"./ar-sa":83298,"./ar-sa.js":83298,"./ar-tn":12624,"./ar-tn.js":12624,"./ar.js":11988,"./az":91563,"./az.js":91563,"./be":80758,"./be.js":80758,"./bg":42450,"./bg.js":42450,"./bm":8941,"./bm.js":8941,"./bn":97263,"./bn-bd":11825,"./bn-bd.js":11825,"./bn.js":97263,"./bo":28098,"./bo.js":28098,"./br":84719,"./br.js":84719,"./bs":47470,"./bs.js":47470,"./ca":36640,"./ca.js":36640,"./cs":82969,"./cs.js":82969,"./cv":94885,"./cv.js":94885,"./cy":94381,"./cy.js":94381,"./da":52965,"./da.js":52965,"./de":37057,"./de-at":68467,"./de-at.js":68467,"./de-ch":77800,"./de-ch.js":77800,"./de.js":37057,"./dv":38104,"./dv.js":38104,"./el":72833,"./el.js":72833,"./en-au":66607,"./en-au.js":66607,"./en-ca":58883,"./en-ca.js":58883,"./en-gb":99308,"./en-gb.js":99308,"./en-ie":75480,"./en-ie.js":75480,"./en-il":38805,"./en-il.js":38805,"./en-in":86128,"./en-in.js":86128,"./en-nz":55793,"./en-nz.js":55793,"./en-sg":28181,"./en-sg.js":28181,"./eo":52964,"./eo.js":52964,"./es":23264,"./es-do":55831,"./es-do.js":55831,"./es-mx":5049,"./es-mx.js":5049,"./es-us":4683,"./es-us.js":4683,"./es.js":23264,"./et":29824,"./et.js":29824,"./eu":88722,"./eu.js":88722,"./fa":68848,"./fa.js":68848,"./fi":24500,"./fi.js":24500,"./fil":17705,"./fil.js":17705,"./fo":31101,"./fo.js":31101,"./fr":87448,"./fr-ca":34590,"./fr-ca.js":34590,"./fr-ch":37120,"./fr-ch.js":37120,"./fr.js":87448,"./fy":54403,"./fy.js":54403,"./ga":84327,"./ga.js":84327,"./gd":74453,"./gd.js":74453,"./gl":63787,"./gl.js":63787,"./gom-deva":66837,"./gom-deva.js":66837,"./gom-latn":59856,"./gom-latn.js":59856,"./gu":13139,"./gu.js":13139,"./he":47083,"./he.js":47083,"./hi":28356,"./hi.js":28356,"./hr":72670,"./hr.js":72670,"./hu":48789,"./hu.js":48789,"./hy-am":89881,"./hy-am.js":89881,"./id":14056,"./id.js":14056,"./is":511,"./is.js":511,"./it":52502,"./it-ch":85675,"./it-ch.js":85675,"./it.js":52502,"./ja":70923,"./ja.js":70923,"./jv":76141,"./jv.js":76141,"./ka":31645,"./ka.js":31645,"./kk":69522,"./kk.js":69522,"./km":34876,"./km.js":34876,"./kn":10147,"./kn.js":10147,"./ko":43348,"./ko.js":43348,"./ku":5564,"./ku.js":5564,"./ky":142,"./ky.js":142,"./lb":74766,"./lb.js":74766,"./lo":97094,"./lo.js":97094,"./lt":11591,"./lt.js":11591,"./lv":83597,"./lv.js":83597,"./me":57879,"./me.js":57879,"./mi":71480,"./mi.js":71480,"./mk":58399,"./mk.js":58399,"./ml":25022,"./ml.js":25022,"./mn":20978,"./mn.js":20978,"./mr":7113,"./mr.js":7113,"./ms":99914,"./ms-my":52582,"./ms-my.js":52582,"./ms.js":99914,"./mt":1485,"./mt.js":1485,"./my":41862,"./my.js":41862,"./nb":94494,"./nb.js":94494,"./ne":85820,"./ne.js":85820,"./nl":7015,"./nl-be":91821,"./nl-be.js":91821,"./nl.js":7015,"./nn":85210,"./nn.js":85210,"./oc-lnc":59156,"./oc-lnc.js":59156,"./pa-in":73530,"./pa-in.js":73530,"./pl":39262,"./pl.js":39262,"./pt":71328,"./pt-br":12283,"./pt-br.js":12283,"./pt.js":71328,"./ro":17966,"./ro.js":17966,"./ru":34824,"./ru.js":34824,"./sd":43188,"./sd.js":43188,"./se":23781,"./se.js":23781,"./si":67129,"./si.js":67129,"./sk":76537,"./sk.js":76537,"./sl":50672,"./sl.js":50672,"./sq":44634,"./sq.js":44634,"./sr":58280,"./sr-cyrl":88692,"./sr-cyrl.js":88692,"./sr.js":58280,"./ss":20947,"./ss.js":20947,"./sv":82511,"./sv.js":82511,"./sw":54528,"./sw.js":54528,"./ta":14613,"./ta.js":14613,"./te":56894,"./te.js":56894,"./tet":17476,"./tet.js":17476,"./tg":61150,"./tg.js":61150,"./th":45192,"./th.js":45192,"./tk":20604,"./tk.js":20604,"./tl-ph":52613,"./tl-ph.js":52613,"./tlh":22175,"./tlh.js":22175,"./tr":25963,"./tr.js":25963,"./tzl":34896,"./tzl.js":34896,"./tzm":87441,"./tzm-latn":60701,"./tzm-latn.js":60701,"./tzm.js":87441,"./ug-cn":12814,"./ug-cn.js":12814,"./uk":90029,"./uk.js":90029,"./ur":48764,"./ur.js":48764,"./uz":65097,"./uz-latn":10069,"./uz-latn.js":10069,"./uz.js":65097,"./vi":17204,"./vi.js":17204,"./x-pseudo":61183,"./x-pseudo.js":61183,"./yo":33301,"./yo.js":33301,"./zh-cn":98860,"./zh-cn.js":98860,"./zh-hk":45525,"./zh-hk.js":45525,"./zh-mo":11286,"./zh-mo.js":11286,"./zh-tw":47688,"./zh-tw.js":47688};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=95126},76608:function(){}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,a){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],s=e[l][1],a=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<o&&(o=a));if(i){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=378}(),function(){var e={378:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,o=r[0],i=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var l=c(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},r=self["webpackChunkgitbookpage"]=self["webpackChunkgitbookpage"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(72390)}));r=n.O(r)})();
//# sourceMappingURL=user-legacy.681bbb6b.js.map